#include "common.h"
#ifdef USE_BANKING
#pragma codeseg BANK3
#endif
void xdat_cmn_init () BANKING_CTRL {
//FW_REV.BT.B0 = 0x0; //00000000, fw_build_ver[7:0]
//FW_REV.BT.B1 = 0x0; //00000000, fw_patch_ver[7:0]
//FW_REV.BT.B2 = 0x0; //00000000, fw_minor_ver[7:0]
//FW_REV.BT.B3 = 0x0; //00000000, fw_major_ver[7:0]
  CONTROL_CONFIG0.BT.B0 = 0x4; //00#001##, rx_cal_done, tx_cal_done, ana_clk100m_125m_sel, ana_clk100m_125m_en, avdd_vol_sel
//CONTROL_CONFIG0.BT.B1 = 0x0; //#00000#0, hw_drv_spd_up, train_sim_en, fast_dfe_timer_en, ext_force_cal_done, fast_power_on_en, cal_done
//CONTROL_CONFIG0.BT.B2 = 0x0; //0000000#, bypass_speed_table_load, bypass_xdat_init, bypass_power_on_delay, bypass_delay[2:0], power_up_simple_en
//CONTROL_CONFIG0.BT.B3 = 0x0; //####0000, bypass_speed_table_load_dis, bypass_rx_init, skip_cdr_dfe_scheme, force_cont_cal_skip
  CONTROL_CONFIG1.BT.B0 = 0x7E; //01111110, ring_pll_cal_ext_en, txclk_vdd_cal_ext_en, txdata_vdd_cal_ext_en, txpre_vdd_cal_ext_en, rxdclk_vdd_cal_ext_en, rxeomclk_vdd_cal_ext_en, rxsmplr_vdd_cal_ext_en, cal_start
//CONTROL_CONFIG1.BT.B1 = 0x0; //00000000, rxdcc_dll_cal_ext_en, txdetect_cal_ext_en, eom_dll_cal_ext_en, rxdll_cal_ext_en, pll_temp_cal_ext_en, pll_cal_ext_en, tx_plldcc_cal_ext_en, rx_plldcc_cal_ext_en
  CONTROL_CONFIG1.BT.B2 = 0x80; //10000000, vdd_cal_ext_en, rximp_cal_ext_en, tximp_cal_ext_en, sampler_cal_ext_en, eom_align_cal_ext_en, rxalign90_cal_ext_en, rxdcc_eom_cal_ext_en, rxdcc_data_cal_ext_en
//CONTROL_CONFIG1.BT.B3 = 0x0; //00000000, rx_clk_cal_ext_en, txalign90_cal_ext_en, tx_pll_cal_ext_en, rx_pll_cal_ext_en, sq_cal_ext_en, process_cal_ext_en, txdcc_cal_ext_en, txdcc_pdiv_cal_ext_en
  CONTROL_CONFIG2.BT.B0 = 0x18; //###11000, adc_vddr_cal_ext_en, adc_cmn_mode_cal_ext_en, adc_cal_ext_en, tx_pllvdda_cal_ext_en, rx_pllvdda_cal_ext_en
  CONTROL_CONFIG2.BT.B1 = 0xB0; //10110###, rxdcc_dll_cal_cont_en, pll_temp_cal_cont_en, tx_pllamp_cal_cont_en, rx_pllamp_cal_cont_en, adc_cal_cont_en
  CONTROL_CONFIG2.BT.B2 = 0xFE; //11111110, txdcc_cal_cont_en, txdcc_pdiv_cal_cont_en, tx_plldcc_cal_cont_en, rx_plldcc_cal_cont_en, align90_cal_cont_en, eom_dll_cal_cont_en, rxdll_cal_cont_en, txdetect_cal_cont_en
  CONTROL_CONFIG2.BT.B3 = 0x3; //00000011, txclk_vdd_cal_cont_en, txdata_vdd_cal_cont_en, txpre_vdd_cal_cont_en, rxdclk_vdd_cal_cont_en, rxeomclk_vdd_cal_cont_en, rxsmplr_vdd_cal_cont_en, rxdcc_data_cal_cont_en, rxdcc_eom_cal_cont_en
//CONTROL_CONFIG3.BT.B0 = 0x0; //00000000, tshrtr[7:0]
//CONTROL_CONFIG3.BT.B1 = 0x0; //00000000, thold_sel2[7:0]
//CONTROL_CONFIG3.BT.B2 = 0x0; //00000000, fast_pll_mode, spdchg_fast_pll_mode[1:0], tempc_step_ctrl[2:0], tempc_dac_mode[1:0]
//CONTROL_CONFIG3.BT.B3 = 0x0; //####00##, cal_process_result_sel, pllamp_cal_speedup_disable
  CONTROL_CONFIG4.BT.B0 = 0x2; //00000010, fbc_ratio[7:0]
  CONTROL_CONFIG4.BT.B1 = 0xC; //00001100, vcoamp_vth_normal[7:0]
  CONTROL_CONFIG4.BT.B2 = 0xF; //00001111, vcoamp_vth_amp[7:0]
  CONTROL_CONFIG4.BT.B3 = 0xE; //00001110, vcoamp_vth_freq[7:0]
//CONTROL_CONFIG5.BT.B2 = 0x0; //00000000, tpllfreq1[1:0], tpllfreq0[1:0], tpllamp0[1:0], tpllamp1[1:0]
  CONTROL_CONFIG5.BT.B3 = 0x80; //10000000, pll_txvco_sf_icptat_sel[2:0], tpllfreq4, tpllfreq3[1:0], tpllfreq2[1:0]
//CONTROL_CONFIG6.BT.B0 = 0x0; //00000000, vdd_cal_done_lane0_rd, mcu_sync_lane0_rd, tximp_cal_done_lane0_rd, power_on_seq_lane0_rd, mcu_en_lane0_rd, rximp_cal_done_lane0_rd, cal_done_lane0_rd, mcu_init_done_lane0_rd
//CONTROL_CONFIG6.BT.B1 = 0x0; //00000000, vdd_cal_done_lane1_rd, mcu_sync_lane1_rd, tximp_cal_done_lane1_rd, power_on_seq_lane1_rd, mcu_en_lane1_rd, rximp_cal_done_lane1_rd, cal_done_lane1_rd, mcu_init_done_lane1_rd
//CONTROL_CONFIG6.BT.B2 = 0x0; //00000000, vdd_cal_done_lane2_rd, mcu_sync_lane2_rd, tximp_cal_done_lane2_rd, power_on_seq_lane2_rd, mcu_en_lane2_rd, rximp_cal_done_lane2_rd, cal_done_lane2_rd, mcu_init_done_lane2_rd
//CONTROL_CONFIG6.BT.B3 = 0x0; //00000000, vdd_cal_done_lane3_rd, mcu_sync_lane3_rd, tximp_cal_done_lane3_rd, power_on_seq_lane3_rd, mcu_en_lane3_rd, rximp_cal_done_lane3_rd, cal_done_lane3_rd, mcu_init_done_lane3_rd
  CONTROL_CONFIG7.BT.B0 = 0x15; //00010101, cal_proc_tt2ff[7:0]
  CONTROL_CONFIG7.BT.B1 = 0x10; //00010000, cal_proc_ss2tt[7:0]
  CONTROL_CONFIG7.BT.B2 = 0x13; //00010011, cal_proc_subss[7:0]
  CONTROL_CONFIG7.BT.B3 = 0x6; //00000110, cal_sq_thresh_in[7:0]
//CAL_DATA0.BT.B1 = 0x0; //00000000, cal_tempc_dac_sel[7:0]
  CAL_DATA0.BT.B2 = 0x5; //00000101, cal_tempc_mux_sel_r0[7:0]
  CAL_DATA0.BT.B3 = 0x6; //00000110, cal_tempc_mux_hold_sel_r0[7:0]
  TRAIN_IF_CONFIG.BT.B0 = 0x1; //#######1, pipe4_en
//CONTROL_CONFIG8.BT.B2 = 0x0; //#######0, auto_rx_init_en
//CONTROL_CONFIG9.BT.B1 = 0x0; //0#######, rxdcc_dll_cal_cont_cur_load_en
//CONTROL_CONFIG9.BT.B2 = 0x0; //00000000, txdcc_cal_cont_cur_load_en, txdcc_pdiv_cal_cont_cur_load_en, pllamp_cal_cont_cur_load_en, plldcc_cal_cont_cur_load_en, align90_cal_cont_cur_load_en, eom_dll_cal_cont_cur_load_en, rxdll_cal_cont_cur_load_en, txdetect_cal_cont_cur_load_en
//CONTROL_CONFIG9.BT.B3 = 0x0; //00000000, txclk_vdd_cal_cont_cur_load_en, txdata_vdd_cal_cont_cur_load_en, txpre_vdd_cal_cont_cur_load_en, rxdclk_vdd_cal_cont_cur_load_en, rxeomclk_vdd_cal_cont_cur_load_en, rxsmplr_vdd_cal_cont_cur_load_en, rxdcc_data_cal_cont_cur_load_en, rxdcc_eom_cal_cont_cur_load_en
  CON_CAL_STEP_SIZE1.BT.B0 = 0x20; //00100000, rxdclk_vdd_cal_step_size[7:0]
  CON_CAL_STEP_SIZE1.BT.B1 = 0x20; //00100000, txpre_vdd_cal_step_size[7:0]
  CON_CAL_STEP_SIZE1.BT.B2 = 0x20; //00100000, txdata_vdd_cal_step_size[7:0]
  CON_CAL_STEP_SIZE1.BT.B3 = 0x20; //00100000, txclk_vdd_cal_step_size[7:0]
  CON_CAL_STEP_SIZE2.BT.B0 = 0x20; //00100000, rxdcc_eom_cal_step_size[7:0]
  CON_CAL_STEP_SIZE2.BT.B1 = 0x20; //00100000, rxdcc_data_cal_step_size[7:0]
  CON_CAL_STEP_SIZE2.BT.B2 = 0x20; //00100000, rxsmplr_vdd_cal_step_size[7:0]
  CON_CAL_STEP_SIZE2.BT.B3 = 0x20; //00100000, rxeomclk_vdd_cal_step_size[7:0]
  CON_CAL_STEP_SIZE3.BT.B0 = 0x20; //00100000, plldcc_cal_step_size[7:0]
  CON_CAL_STEP_SIZE3.BT.B1 = 0x20; //00100000, pllamp_cal_step_size[7:0]
  CON_CAL_STEP_SIZE3.BT.B2 = 0x20; //00100000, txdcc_pdiv_cal_step_size[7:0]
  CON_CAL_STEP_SIZE3.BT.B3 = 0x20; //00100000, txdcc_cal_step_size[7:0]
  CON_CAL_STEP_SIZE4.BT.B0 = 0x20; //00100000, txdetect_cal_step_size[7:0]
  CON_CAL_STEP_SIZE4.BT.B1 = 0x20; //00100000, rxdll_cal_step_size[7:0]
  CON_CAL_STEP_SIZE4.BT.B2 = 0x20; //00100000, eom_dll_cal_step_size[7:0]
  CON_CAL_STEP_SIZE4.BT.B3 = 0x20; //00100000, align90_cal_step_size[7:0]
//CAL_TIME_OUT_AND_DIS.BT.B0 = 0x0; //00000000, rximp_cal_timeout_dis, tximp_cal_timeout_dis, plldcc_cal_timeout_dis, txdcc_cal_timeout_dis, txdcc_pdiv_cal_timeout_dis, rxdcc_dll_cal_timeout_dis, rxdcc_data_cal_timeout_dis, rxdcc_eom_cal_timeout_dis
//CAL_TIME_OUT_AND_DIS.BT.B1 = 0x0; //###00000, eom_align_cal_timeout_dis, plldcc_cal_timeout, rx_pll_cal_timeout_dis, tx_pll_cal_timeout_dis, align90_cal_timeout_dis
//MCU_CONFIG.BT.B0 = 0x0; //00000000, master_mcu_sel[7:0]
//CAL_DATA1.BT.B0 = 0x0; //00000000, cal_process_value_ulvt[7:0]
//CAL_DATA1.BT.B1 = 0x0; //00000000, cal_process_value_lvt[7:0]
  CAL_DATA1.BT.B2 = 0x5; //00000101, cal_tempc_mux_sel_r1[7:0]
  CAL_DATA1.BT.B3 = 0x6; //00000110, cal_tempc_mux_hold_sel_r1[7:0]
//CAL_STATUS_READ_CMN.BT.B0 = 0x0; //#####000, vdd_cal_done, process_cal_pass, process_cal_done
//CAL_STATUS_READ_CMN1.BT.B0 = 0x0; //00000000, sellv_rx_thdrv_ch0_pass, sellv_rx_thclk_sampler_ch0_pass, sellv_rx_skew_eomclk_ch0_pass, sellv_rx_a90_dataclk_ch0_pass, sellv_rxdll_ch0_pass, sellv_rxintp_ch0_pass, sellv_txdata_ch0_pass, sellv_txclk_ch0_pass
//CAL_STATUS_READ_CMN1.BT.B1 = 0x0; //00000000, sellv_rxdll_ch1_pass, sellv_rxintp_ch1_pass, sellv_txdata_ch1_pass, sellv_txclk_ch1_pass, sellv_rx_ctle_ch0_pass, sellv_rx_div2_ch0_pass, sellv_rx_intpeom_dlleom_ch0_pass, sellv_rx_clktopvddl_ch0_pass
//CAL_STATUS_READ_CMN1.BT.B2 = 0x0; //00000000, sellv_rx_ctle_ch1_pass, sellv_rx_div2_ch1_pass, sellv_rx_intpeom_dlleom_ch1_pass, sellv_rx_clktopvddl_ch1_pass, sellv_rx_thdrv_ch1_pass, sellv_rx_thclk_sampler_ch1_pass, sellv_rx_skew_eomclk_ch1_pass, sellv_rx_a90_dataclk_ch1_pass
//CAL_STATUS_READ_CMN2.BT.B0 = 0x0; //00000000, sellv_rx_thdrv_ch2_pass, sellv_rx_thclk_sampler_ch2_pass, sellv_rx_skew_eomclk_ch2_pass, sellv_rx_a90_dataclk_ch2_pass, sellv_rxdll_ch2_pass, sellv_rxintp_ch2_pass, sellv_txdata_ch2_pass, sellv_txclk_ch2_pass
//CAL_STATUS_READ_CMN2.BT.B1 = 0x0; //00000000, sellv_rxdll_ch3_pass, sellv_rxintp_ch3_pass, sellv_txdata_ch3_pass, sellv_txclk_ch3_pass, sellv_rx_ctle_ch2_pass, sellv_rx_div2_ch2_pass, sellv_rx_intpeom_dlleom_ch2_pass, sellv_rx_clktopvddl_ch2_pass
//CAL_STATUS_READ_CMN2.BT.B2 = 0x0; //00000000, sellv_rx_ctle_ch3_pass, sellv_rx_div2_ch3_pass, sellv_rx_intpeom_dlleom_ch3_pass, sellv_rx_clktopvddl_ch3_pass, sellv_rx_thdrv_ch3_pass, sellv_rx_thclk_sampler_ch3_pass, sellv_rx_skew_eomclk_ch3_pass, sellv_rx_a90_dataclk_ch3_pass
  LOOP_CNTS.BT.B0 = 0x10; //00010000, phase_tracking_loop_cnts[7:0]
  MCU_CONFIG1.BT.B0 = 0x90; //10010000, mcu_freq[15:0]
  MCU_CONFIG1.BT.B1 = 0x1; //00000001, mcu_freq[15:0]
//MCU_CONFIG1.BT.B2 = 0x0; //00000000, mcuclk_mc[7:0]
  PROCESS_THRESHOLD1.BT.B0 = 0x4; //00000100, cal_proc_tt2ff_ring1[7:0]
  PROCESS_THRESHOLD1.BT.B1 = 0x4; //00000100, cal_proc_ss2tt_ring1[7:0]
  PROCESS_THRESHOLD1.BT.B2 = 0xD; //00001101, cal_proc_subss_ring1[7:0]
  PROCESS_THRESHOLD1.BT.B3 = 0x4; //00000100, cal_proc_tt2ff_ring2[7:0]
  PROCESS_THRESHOLD2.BT.B0 = 0x4; //00000100, cal_proc_ss2tt_ring2[7:0]
  PROCESS_THRESHOLD2.BT.B1 = 0xC; //00001100, cal_proc_subss_ring2[7:0]
  PROCESS_THRESHOLD2.BT.B2 = 0x3; //00000011, cal_proc_tt2ff_ring3[7:0]
  PROCESS_THRESHOLD2.BT.B3 = 0x3; //00000011, cal_proc_ss2tt_ring3[7:0]
  PROCESS_THRESHOLD3.BT.B0 = 0xB; //00001011, cal_proc_subss_ring3[7:0]
  PROCESS_THRESHOLD3.BT.B1 = 0x2; //00000010, cal_proc_tt2ff_ring4[7:0]
  PROCESS_THRESHOLD3.BT.B2 = 0x2; //00000010, cal_proc_ss2tt_ring4[7:0]
  PROCESS_THRESHOLD3.BT.B3 = 0x9; //00001001, cal_proc_subss_ring4[7:0]
  PROCESS_THRESHOLD4.BT.B0 = 0x4; //00000100, cal_proc_tt2ff_ring5[7:0]
  PROCESS_THRESHOLD4.BT.B1 = 0x4; //00000100, cal_proc_ss2tt_ring5[7:0]
  PROCESS_THRESHOLD4.BT.B2 = 0xB; //00001011, cal_proc_subss_ring5[7:0]
  PROCESS_THRESHOLD4.BT.B3 = 0x6; //00000110, cal_proc_tt2ff_ring6[7:0]
  PROCESS_THRESHOLD5.BT.B0 = 0x6; //00000110, cal_proc_ss2tt_ring6[7:0]
  PROCESS_THRESHOLD5.BT.B1 = 0xC; //00001100, cal_proc_subss_ring6[7:0]
  PROCESS_THRESHOLD5.BT.B2 = 0x5; //00000101, cal_proc_tt2ff_ring7[7:0]
  PROCESS_THRESHOLD5.BT.B3 = 0x5; //00000101, cal_proc_ss2tt_ring7[7:0]
  PROCESS_THRESHOLD6.BT.B0 = 0xC; //00001100, cal_proc_subss_ring7[7:0]
  PROCESS_THRESHOLD6.BT.B1 = 0x4; //00000100, cal_proc_tt2ff_ring8[7:0]
  PROCESS_THRESHOLD6.BT.B2 = 0x4; //00000100, cal_proc_ss2tt_ring8[7:0]
  PROCESS_THRESHOLD6.BT.B3 = 0xA; //00001010, cal_proc_subss_ring8[7:0]
  PROCESS_THRESHOLD7.BT.B0 = 0x5; //00000101, cal_proc_tt2ff_ring9[7:0]
  PROCESS_THRESHOLD7.BT.B1 = 0x5; //00000101, cal_proc_ss2tt_ring9[7:0]
  PROCESS_THRESHOLD7.BT.B2 = 0xE; //00001110, cal_proc_subss_ring9[7:0]
  PROCESS_THRESHOLD7.BT.B3 = 0x6; //00000110, cal_proc_tt2ff_ring10[7:0]
  PROCESS_THRESHOLD8.BT.B0 = 0x6; //00000110, cal_proc_ss2tt_ring10[7:0]
  PROCESS_THRESHOLD8.BT.B1 = 0xC; //00001100, cal_proc_subss_ring10[7:0]
  END_XDAT_CMN.BT.B0 = 0xAA; //10101010, end_xdat_cmn[7:0]
}
